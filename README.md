# MsgBot - å¤šæ¸ é“æ¨é€ç³»ç»Ÿ

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å¤šæ¸ é“æ¨é€ç³»ç»Ÿï¼Œæ”¯æŒä»Twitteré‡‡é›†çƒ­é—¨æ¨æ–‡å¹¶æ¨é€åˆ°å¾®ä¿¡å°ç¨‹åºã€Telegramæœºå™¨äººå’ŒDiscordæœºå™¨äººã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ¦ Twitteræ•°æ®é‡‡é›†
- å®æ—¶ç›‘æ§Twitterå¹³å°çƒ­é—¨æ¨æ–‡
- æ”¯æŒå…³é”®è¯å’Œä¸»é¢˜ç­›é€‰
- æ™ºèƒ½å»é‡å’Œå†…å®¹è¿‡æ»¤
- é«˜æ•ˆçš„æ•°æ®ç¼“å­˜æœºåˆ¶

### ğŸ“± å¤šæ¸ é“æ¨é€
- **å¾®ä¿¡å°ç¨‹åº**: æ¨¡æ¿æ¶ˆæ¯æ¨é€ï¼Œç”¨æˆ·è®¢é˜…ç®¡ç†
- **Telegramæœºå™¨äºº**: é¢‘é“æ¨é€ï¼Œæ”¯æŒå¯Œæ–‡æœ¬æ ¼å¼
- **Discordæœºå™¨äºº**: Webhookæ¨é€ï¼Œæ”¯æŒåµŒå…¥æ¶ˆæ¯

### ğŸ”§ ç³»ç»Ÿç‰¹æ€§
- RESTful APIè®¾è®¡
- ç”¨æˆ·è®¢é˜…ç®¡ç†
- æ¶ˆæ¯é˜Ÿåˆ—å¤„ç†
- å®æ—¶æ¨é€è°ƒåº¦
- å®Œæ•´çš„æ—¥å¿—è®°å½•
- Dockerå®¹å™¨åŒ–éƒ¨ç½²

## æŠ€æœ¯æ ˆ

- **åç«¯**: Node.js + Express.js
- **æ•°æ®åº“**: MongoDB + Redis
- **æ¶ˆæ¯é˜Ÿåˆ—**: Bull (åŸºäºRedis)
- **APIé›†æˆ**: Twitter API v2, å¾®ä¿¡API, Telegram Bot API, Discord API
- **éƒ¨ç½²**: Docker + Docker Compose

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0
- Docker & Docker Compose

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd MsgBot
```

2. **å®‰è£…ä¾èµ–**
```bash
npm install
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ç›¸åº”çš„APIå¯†é’¥å’Œé…ç½®
```

4. **å¯åŠ¨æ•°æ®åº“æœåŠ¡**
```bash
npm run docker:up
```

5. **å¯åŠ¨åº”ç”¨**
```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start
```

### APIå¯†é’¥é…ç½®

#### Twitter API
1. è®¿é—® [Twitter Developer Portal](https://developer.twitter.com/)
2. åˆ›å»ºåº”ç”¨å¹¶è·å–APIå¯†é’¥
3. åœ¨`.env`æ–‡ä»¶ä¸­é…ç½®ç›¸å…³å¯†é’¥

#### å¾®ä¿¡å°ç¨‹åº
1. ç™»å½•å¾®ä¿¡å…¬ä¼—å¹³å°
2. è·å–AppIDå’ŒAppSecret
3. é…ç½®æ¨¡æ¿æ¶ˆæ¯ID

#### Telegram Bot
1. ä¸ @BotFather å¯¹è¯åˆ›å»ºæœºå™¨äºº
2. è·å–Bot Token
3. è·å–ç›®æ ‡é¢‘é“æˆ–ç¾¤ç»„ID

#### Discord Bot
1. è®¿é—® [Discord Developer Portal](https://discord.com/developers/applications)
2. åˆ›å»ºåº”ç”¨å’Œæœºå™¨äºº
3. è·å–Bot Tokenå’Œé¢‘é“ID

## é¡¹ç›®ç»“æ„

```
MsgBot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.js              # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ routes/             # APIè·¯ç”±
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ collectors/         # æ•°æ®é‡‡é›†å™¨
â”‚   â”œâ”€â”€ pushers/           # æ¨é€æœåŠ¡
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ scripts/               # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ tests/                 # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml     # Dockeré…ç½®
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â””â”€â”€ README.md             # é¡¹ç›®æ–‡æ¡£
```

## APIæ–‡æ¡£

### ç”¨æˆ·ç®¡ç†
- `POST /api/users/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/users/login` - ç”¨æˆ·ç™»å½•
- `GET /api/users/profile` - è·å–ç”¨æˆ·ä¿¡æ¯

### è®¢é˜…ç®¡ç†
- `GET /api/subscriptions` - è·å–è®¢é˜…åˆ—è¡¨
- `POST /api/subscriptions` - åˆ›å»ºè®¢é˜…
- `PUT /api/subscriptions/:id` - æ›´æ–°è®¢é˜…
- `DELETE /api/subscriptions/:id` - åˆ é™¤è®¢é˜…

### æ¨æ–‡ç®¡ç†
- `GET /api/tweets` - è·å–æ¨æ–‡åˆ—è¡¨
- `GET /api/tweets/:id` - è·å–æ¨æ–‡è¯¦æƒ…

## å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è¿è¡Œæµ‹è¯•
npm test

# ä»£ç æ£€æŸ¥
npm run lint
```

### æ•°æ®åº“ç®¡ç†

- MongoDBç®¡ç†ç•Œé¢: http://localhost:8082
- Redisç®¡ç†ç•Œé¢: http://localhost:8081

## éƒ¨ç½²è¯´æ˜

### Dockeréƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

## ç›‘æ§å’Œæ—¥å¿—

- åº”ç”¨æ—¥å¿—å­˜å‚¨åœ¨ `logs/` ç›®å½•
- æ”¯æŒå¤šçº§åˆ«æ—¥å¿—è®°å½•
- é›†æˆç³»ç»Ÿç›‘æ§å’Œé”™è¯¯æŠ¥å‘Š

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»º Pull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚